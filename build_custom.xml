<?xml version="1.0" encoding="UTF-8" standalone="no"?>
	<!--	Author:			Petrus K.
			Description:	A custom ant build script based on an auto-generated script by Eclipse 4.4.0
			More info:		http://ant.apache.org/manual/using.html
	-->

	<!-- project attributes -->
	<project basedir="." default="build" name="ci-research-teamcity-test-project">
		<description>
			simple ant build script for demonstrational purposes
		</description>
		
	<!-- properties -->
	<property name="src" location="src"/>
	<property name="bin" location="bin"/>
		
	<!-- paths -->
	<path id="classpath">
        <pathelement location="bin"/>
    </path>

	<!-- targets -->
	<!-- TARGET init: initializes file and folder structures before compilation -->
	<target name="init" description="initializes file and folder structures before compilation">
		<mkdir dir="bin"/>
			<copy includeemptydirs="false" todir="bin">
				<fileset dir="src">
					<exclude name="**/*.java"/>
				</fileset>
			</copy>
		<echo message="init completed"></echo>
	</target>
	
	<!-- TARGET build: compiles the source -->
	<target name="build" depends="init" description="compiles the source">
		<javac srcdir="${src}" destdir="${bin}" includeantruntime="false" compiler="classic"/>
		<echo message="build completed"></echo>
	</target>
    
	<!-- TARGET clean: cleans the compiled files -->
    <target name="clean" description="cleans the compiled files">
        <delete dir="bin"/>
    	<echo message="clean completed"></echo>
    </target>

	<!-- TARGET run: runs the demo project -->
    <target name="run" depends="build" description="runs the demo project">
        <java classname="pack1.Demo01" failonerror="true" fork="yes">
        	<classpath refid="classpath"/>
        </java>
    	<echo message="run completed"></echo>
    </target>

	</project>